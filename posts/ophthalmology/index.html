<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
<head>
    <title>ophthalmology</title>
    <meta charset="utf-8">
    <meta name="description"
        content="Website meta description for google search results go here" />
    <meta name="dc.relation" content="https://trxiv.yorks0n.com" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#1A94D2" />

    

    
    
    
    <link rel="stylesheet" href="/css/main.min.css" media="screen">

</head>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>ophthalmology | TRxiv2</title>
<meta name="keywords" content="">
<meta name="description" content="Ethnicity is not biology: retinal pigment score to evaluate biological variability from ophthalmic imaging using machine learning
Authors: Rajesh, A. E.; Olvera-Barrios, A.; Warwick, A. N.; Wu, Y.; Stuart, K. V.; Biradar, M.; Ung, C. Y.; Khawaja, A. P.; Luben, R.; Foster, P. J.; Lee, C. S.; Tufail, A.; Lee, A. Y.; Egan, C.
Score: 1.2, Published: 2023-07-06 DOI: 10.1101/2023.06.28.23291873
BackgroundFew metrics exist to describe phenotypic diversity within ophthalmic imaging datasets, with researchers often using ethnicity as an inappropriate marker for biological variability.">
<meta name="author" content="">
<link rel="canonical" href="https://trxiv.yorks0n.com/posts/ophthalmology/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.904bd1e751cdd2a584fa6bed3fa1166dfd8ec9949ebfd0c4d69c5add5e17c23d.css" integrity="sha256-kEvR51HN0qWE&#43;mvtP6EWbf2OyZSev9DE1pxa3V4Xwj0=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://trxiv.yorks0n.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://trxiv.yorks0n.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://trxiv.yorks0n.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://trxiv.yorks0n.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://trxiv.yorks0n.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="ophthalmology" />
<meta property="og:description" content="Ethnicity is not biology: retinal pigment score to evaluate biological variability from ophthalmic imaging using machine learning
Authors: Rajesh, A. E.; Olvera-Barrios, A.; Warwick, A. N.; Wu, Y.; Stuart, K. V.; Biradar, M.; Ung, C. Y.; Khawaja, A. P.; Luben, R.; Foster, P. J.; Lee, C. S.; Tufail, A.; Lee, A. Y.; Egan, C.
Score: 1.2, Published: 2023-07-06 DOI: 10.1101/2023.06.28.23291873
BackgroundFew metrics exist to describe phenotypic diversity within ophthalmic imaging datasets, with researchers often using ethnicity as an inappropriate marker for biological variability." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://trxiv.yorks0n.com/posts/ophthalmology/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-19T10:38:24+00:00" />
<meta property="article:modified_time" content="2023-07-19T10:38:24+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ophthalmology"/>
<meta name="twitter:description" content="Ethnicity is not biology: retinal pigment score to evaluate biological variability from ophthalmic imaging using machine learning
Authors: Rajesh, A. E.; Olvera-Barrios, A.; Warwick, A. N.; Wu, Y.; Stuart, K. V.; Biradar, M.; Ung, C. Y.; Khawaja, A. P.; Luben, R.; Foster, P. J.; Lee, C. S.; Tufail, A.; Lee, A. Y.; Egan, C.
Score: 1.2, Published: 2023-07-06 DOI: 10.1101/2023.06.28.23291873
BackgroundFew metrics exist to describe phenotypic diversity within ophthalmic imaging datasets, with researchers often using ethnicity as an inappropriate marker for biological variability."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://trxiv.yorks0n.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "ophthalmology",
      "item": "https://trxiv.yorks0n.com/posts/ophthalmology/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ophthalmology",
  "name": "ophthalmology",
  "description": "Ethnicity is not biology: retinal pigment score to evaluate biological variability from ophthalmic imaging using machine learning\nAuthors: Rajesh, A. E.; Olvera-Barrios, A.; Warwick, A. N.; Wu, Y.; Stuart, K. V.; Biradar, M.; Ung, C. Y.; Khawaja, A. P.; Luben, R.; Foster, P. J.; Lee, C. S.; Tufail, A.; Lee, A. Y.; Egan, C.\nScore: 1.2, Published: 2023-07-06 DOI: 10.1101/2023.06.28.23291873\nBackgroundFew metrics exist to describe phenotypic diversity within ophthalmic imaging datasets, with researchers often using ethnicity as an inappropriate marker for biological variability.",
  "keywords": [
    
  ],
  "articleBody": " Ethnicity is not biology: retinal pigment score to evaluate biological variability from ophthalmic imaging using machine learning\nAuthors: Rajesh, A. E.; Olvera-Barrios, A.; Warwick, A. N.; Wu, Y.; Stuart, K. V.; Biradar, M.; Ung, C. Y.; Khawaja, A. P.; Luben, R.; Foster, P. J.; Lee, C. S.; Tufail, A.; Lee, A. Y.; Egan, C.\nScore: 1.2, Published: 2023-07-06 DOI: 10.1101/2023.06.28.23291873\nBackgroundFew metrics exist to describe phenotypic diversity within ophthalmic imaging datasets, with researchers often using ethnicity as an inappropriate marker for biological variability. MethodsWe derived a continuous, measured metric, the retinal pigment score (RPS), that quantifies the degree of pigmentation from a colour fundus photograph of the eye. RPS was validated using two large epidemiological studies with demographic and genetic data (UK Biobank and EPIC-Norfolk Study). FindingsA genome-wide association study (GWAS) of RPS from UK Biobank identified 20 loci with known associations with skin, iris and hair pigmentation, of which 8 were replicated in the EPIC-Norfolk cohort. There was a strong association between RPS and ethnicity, however, there was substantial overlap between each ethnicity and the respective distributions of RPS scores. InterpretationRPS serves to decouple traditional demographic variables, such as ethnicity, from clinical imaging characteristics. RPS may serve as a useful metric to quantify the diversity of the training, validation, and testing datasets used in the development of AI algorithms to ensure adequate inclusion and explainability of the model performance, critical in evaluating all currently deployed AI models. The code to derive RPS is publicly available at: https://github.com/uw-biomedical-ml/retinal-pigmentation-score. FundingThe authors did not receive support from any organisation for the submitted work. Research in contextO_ST_ABSEvidence before this studyC_ST_ABSVision loss due to retinal disease is a global problem as populations age and diabetes becomes increasingly prevalent. AI algorithms developed for efficient diagnosis of diabetic retinopathy and age-related macular degeneration rely on large imaging datasets collected from clinical practice. A substantial proportion (more than 80%) of publicly available retinal imaging datasets lack data on participant demographic characteristics. Some ethnic groups are noticeably underrepresented in medical research. Previous findings in dermatology suggest that AI algorithms can show reduced performance on darker skin tones. Similar biases may exist in retinal imaging, where retinal colour has been shown to affect disease detection. Added value of this studyWe introduce the Retinal Pigment Score (RPS), a measure of retinal pigmentation from digital fundus photographs. This score showed strong, reproducible associations with genetic variants related to skin, eye, and hair colour. Additionally, we identify three genetic loci potentially unique to retinal pigmentation, which warrant further investigation. The RPS provides an accurate and objective metric to describe the biological variability of the retina directly derived from an image. Implications of all the available evidenceThe RPS method represents a valuable metric with importance to harness the detailed information of ophthalmic fundus imaging. Its application implies potential benefits, such as improved accuracy and inclusivity, over human-created sociodemographic classifications used in dataset compilation and in the processes of developing and validating models. The RPS could decouple the distinct social and political categorical constructs of race and ethnicity from image analysis. It is poised to both accurately describe the diversity of a population study dataset or an algorithm training dataset, and for investigate algorithmic bias by assessing outcomes. Further work is needed to characterise RPS across different populations, considering individual ocular factors and different camera types. The development of standard reporting practices using RPS for studies employing colour fundus photography is also critical.\nDiagnostic test accuracy of artificial intelligence in screening for referable diabetic retinopathy in real-world settings: A systematic review and meta-analysis\nAuthors: Uy, H.; Fielding, C.; Hohlfeld, A.; Ochodo, E.; Opare, A.; Mukonda, E.; Minnies, D.; Engel, M. E.\nScore: 1.2, Published: 2023-06-22 DOI: 10.1101/2023.06.20.23291687\nStudies on artificial intelligence (AI) in screening for diabetic retinopathy (DR) have shown promising results in addressing the mismatch between the capacity to implement DR screening and the increasing DR incidence; however, most of these studies were done retrospectively. This review sought to evaluate the diagnostic test accuracy (DTA) of AI in screening for referable diabetic retinopathy (RDR) in real-world settings. We searched CENTRAL, PubMed, CINAHL, Scopus, and Web of Science on 9 February 2023. We included prospective DTA studies assessing AI against trained human graders (HGs) in screening for RDR in patients living with diabetes. synthesis Two reviewers independently extracted data and assessed methodological quality against QUADAS-2 criteria. We used the hierarchical summary receiver operating characteristics (HSROC) model to pool estimates of sensitivity and specificity and, forest plots and SROC plots to visually examine heterogeneity in accuracy estimates. Finally, we conducted sensitivity analyses to explore the effects of studies deemed to possibly affect the quality of the studies. We included 15 studies (17 datasets: 10 patient-level analysis (N=45,785), and 7 eye-level analysis (N=15,390). Meta-analyses revealed a pooled sensitivity of 95.33%(95% CI: 90.60-100%) and specificity of 92.01%(95% CI: 87.61-96.42%) for patient-level analysis; for the eye-level analysis, pooled sensitivity was 91.24% (95% CI: 79.15-100%) and specificity, 93.90% (95% CI: 90.63-97.16%). Subgroup analyses did not provide variations in the diagnostic accuracy of country classification and DR classification criteria; however, a moderate increase was observed in diagnostic accuracy at the primary-level and, a minimal decrease in the tertiary-level healthcare settings. Sensitivity analyses did not show any variations in studies that included diabetic macular edema in the RDR definition, nor in studies with [\u0026ge;]3 HGs. This review provides evidence, for the first time from prospective studies, for the effectiveness of AI in screening for RDR, in real-world settings.\n",
  "wordCount" : "907",
  "inLanguage": "en",
  "datePublished": "2023-07-19T10:38:24Z",
  "dateModified": "2023-07-19T10:38:24Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://trxiv.yorks0n.com/posts/ophthalmology/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "TRxiv2",
    "logo": {
      "@type": "ImageObject",
      "url": "https://trxiv.yorks0n.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://trxiv.yorks0n.com" accesskey="h" title="TRxiv2 (Alt + H)">TRxiv2</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">
<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      ophthalmology
    </h1>
    <div class="post-meta"><span>updated on July 19, 2023</span>

</div>
  </header> 
  <div class="post-content"><div class="accordion accordion-flush" id="accordionFlushExample"><div class="accordion-item">
    <h3 class="accordion-header" id="flush-heading10.1101/2023.06.28.23291873">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse10.1101/2023.06.28.23291873" aria-expanded="false" aria-controls="flush-collapse10.1101/2023.06.28.23291873">
        <p class="paperTitle">Ethnicity is not biology: retinal pigment score to evaluate biological variability from ophthalmic imaging using machine learning</p>
      </button>
    </h3>
    <div id="flush-collapse10.1101/2023.06.28.23291873" class="accordion-collapse collapse" aria-labelledby="flush-heading10.1101/2023.06.28.23291873" data-bs-parent="#accordionFlushExample">
      <div class="accordion-body">
        <p class="author">Authors: Rajesh, A. E.; Olvera-Barrios, A.; Warwick, A. N.; Wu, Y.; Stuart, K. V.; Biradar, M.; Ung, C. Y.; Khawaja, A. P.; Luben, R.; Foster, P. J.; Lee, C. S.; Tufail, A.; Lee, A. Y.; Egan, C.</p>
        <p class="info">Score: 1.2, Published: 2023-07-06 </p>
        <p class="info">DOI: <a href='https://doi.org/10.1101/2023.06.28.23291873' target='https://doi.org/10.1101/2023.06.28.23291873'> 10.1101/2023.06.28.23291873</a></p>
        <p class="abstract">BackgroundFew metrics exist to describe phenotypic diversity within ophthalmic imaging datasets, with researchers often using ethnicity as an inappropriate marker for biological variability.

MethodsWe derived a continuous, measured metric, the retinal pigment score (RPS), that quantifies the degree of pigmentation from a colour fundus photograph of the eye. RPS was validated using two large epidemiological studies with demographic and genetic data (UK Biobank and EPIC-Norfolk Study).

FindingsA genome-wide association study (GWAS) of RPS from UK Biobank identified 20 loci with known associations with skin, iris and hair pigmentation, of which 8 were replicated in the EPIC-Norfolk cohort. There was a strong association between RPS and ethnicity, however, there was substantial overlap between each ethnicity and the respective distributions of RPS scores.

InterpretationRPS serves to decouple traditional demographic variables, such as ethnicity, from clinical imaging characteristics. RPS may serve as a useful metric to quantify the diversity of the training, validation, and testing datasets used in the development of AI algorithms to ensure adequate inclusion and explainability of the model performance, critical in evaluating all currently deployed AI models. The code to derive RPS is publicly available at: https://github.com/uw-biomedical-ml/retinal-pigmentation-score.

FundingThe authors did not receive support from any organisation for the submitted work.

Research in contextO_ST_ABSEvidence before this studyC_ST_ABSVision loss due to retinal disease is a global problem as populations age and diabetes becomes increasingly prevalent. AI algorithms developed for efficient diagnosis of diabetic retinopathy and age-related macular degeneration rely on large imaging datasets collected from clinical practice. A substantial proportion (more than 80%) of publicly available retinal imaging datasets lack data on participant demographic characteristics. Some ethnic groups are noticeably underrepresented in medical research.

Previous findings in dermatology suggest that AI algorithms can show reduced performance on darker skin tones. Similar biases may exist in retinal imaging, where retinal colour has been shown to affect disease detection.

Added value of this studyWe introduce the Retinal Pigment Score (RPS), a measure of retinal pigmentation from digital fundus photographs. This score showed strong, reproducible associations with genetic variants related to skin, eye, and hair colour. Additionally, we identify three genetic loci potentially unique to retinal pigmentation, which warrant further investigation. The RPS provides an accurate and objective metric to describe the biological variability of the retina directly derived from an image.

Implications of all the available evidenceThe RPS method represents a valuable metric with importance to harness the detailed information of ophthalmic fundus imaging. Its application implies potential benefits, such as improved accuracy and inclusivity, over human-created sociodemographic classifications used in dataset compilation and in the processes of developing and validating models. The RPS could decouple the distinct social and political categorical constructs of race and ethnicity from image analysis. It is poised to both accurately describe the diversity of a population study dataset or an algorithm training dataset, and for investigate algorithmic bias by assessing outcomes.

Further work is needed to characterise RPS across different populations, considering individual ocular factors and different camera types. The development of standard reporting practices using RPS for studies employing colour fundus photography is also critical.</p>
      </div>
    </div>
  </div><div class="accordion-item">
    <h3 class="accordion-header" id="flush-heading10.1101/2023.06.20.23291687">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse10.1101/2023.06.20.23291687" aria-expanded="false" aria-controls="flush-collapse10.1101/2023.06.20.23291687">
        <p class="paperTitle">Diagnostic test accuracy of artificial intelligence in screening for referable diabetic retinopathy in real-world settings: A systematic review and meta-analysis</p>
      </button>
    </h3>
    <div id="flush-collapse10.1101/2023.06.20.23291687" class="accordion-collapse collapse" aria-labelledby="flush-heading10.1101/2023.06.20.23291687" data-bs-parent="#accordionFlushExample">
      <div class="accordion-body">
        <p class="author">Authors: Uy, H.; Fielding, C.; Hohlfeld, A.; Ochodo, E.; Opare, A.; Mukonda, E.; Minnies, D.; Engel, M. E.</p>
        <p class="info">Score: 1.2, Published: 2023-06-22 </p>
        <p class="info">DOI: <a href='https://doi.org/10.1101/2023.06.20.23291687' target='https://doi.org/10.1101/2023.06.20.23291687'> 10.1101/2023.06.20.23291687</a></p>
        <p class="abstract">Studies on artificial intelligence (AI) in screening for diabetic retinopathy (DR) have shown promising results in addressing the mismatch between the capacity to implement DR screening and the increasing DR incidence; however, most of these studies were done retrospectively. This review sought to evaluate the diagnostic test accuracy (DTA) of AI in screening for referable diabetic retinopathy (RDR) in real-world settings. We searched CENTRAL, PubMed, CINAHL, Scopus, and Web of Science on 9 February 2023. We included prospective DTA studies assessing AI against trained human graders (HGs) in screening for RDR in patients living with diabetes. synthesis Two reviewers independently extracted data and assessed methodological quality against QUADAS-2 criteria. We used the hierarchical summary receiver operating characteristics (HSROC) model to pool estimates of sensitivity and specificity and, forest plots and SROC plots to visually examine heterogeneity in accuracy estimates. Finally, we conducted sensitivity analyses to explore the effects of studies deemed to possibly affect the quality of the studies. We included 15 studies (17 datasets: 10 patient-level analysis (N=45,785), and 7 eye-level analysis (N=15,390). Meta-analyses revealed a pooled sensitivity of 95.33%(95% CI: 90.60-100%) and specificity of 92.01%(95% CI: 87.61-96.42%) for patient-level analysis; for the eye-level analysis, pooled sensitivity was 91.24% (95% CI: 79.15-100%) and specificity, 93.90% (95% CI: 90.63-97.16%). Subgroup analyses did not provide variations in the diagnostic accuracy of country classification and DR classification criteria; however, a moderate increase was observed in diagnostic accuracy at the primary-level and, a minimal decrease in the tertiary-level healthcare settings. Sensitivity analyses did not show any variations in studies that included diabetic macular edema in the RDR definition, nor in studies with [&amp;ge;]3 HGs. This review provides evidence, for the first time from prospective studies, for the effectiveness of AI in screening for RDR, in real-world settings.</p>
      </div>
    </div>
  </div>
</div>









<script src="/js/bundle.min.js" defer></script>



  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://trxiv.yorks0n.com">TRxiv2</a></span>
    <span>
        · Made by Yorkson
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
