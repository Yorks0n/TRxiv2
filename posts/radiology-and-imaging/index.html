<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
<head>
    <title>radiology and imaging</title>
    <meta charset="utf-8">
    <meta name="description"
        content="Website meta description for google search results go here" />
    <meta name="dc.relation" content="https://trxiv.yorks0n.com" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#1A94D2" />

    

    
    
    
    <link rel="stylesheet" href="/css/main.min.css" media="screen">

</head>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>radiology and imaging | TRxiv2</title>
<meta name="keywords" content="">
<meta name="description" content="Negative predictive value Of Point-of-care ultrasound normal exam to exclude PneumoniA (NO-PNA)
Authors: Istrail, L.; Chakravorty, S.; Stepanova, M.
Score: 16.1, Published: 2023-11-20 DOI: 10.1101/2023.11.18.23298503
Pneumonia is one of the most common causes of hospital admission in the United States. Worldwide, the majority of antibiotics are prescribed for upper respiratory infections, much of which could be avoided with highly accurate methods of diagnosing or excluding pneumonia at the bedside. Despite the high prevalence of infectious pneumonia and decades of medical progress, accurately diagnosing or ruling out pneumonia without the use of computed tomography (CT) scanners and distinguishing between viral or bacterial etiologies remains challenging.">
<meta name="author" content="">
<link rel="canonical" href="https://trxiv.yorks0n.com/posts/radiology-and-imaging/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.904bd1e751cdd2a584fa6bed3fa1166dfd8ec9949ebfd0c4d69c5add5e17c23d.css" integrity="sha256-kEvR51HN0qWE&#43;mvtP6EWbf2OyZSev9DE1pxa3V4Xwj0=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://trxiv.yorks0n.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://trxiv.yorks0n.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://trxiv.yorks0n.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://trxiv.yorks0n.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://trxiv.yorks0n.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="radiology and imaging" />
<meta property="og:description" content="Negative predictive value Of Point-of-care ultrasound normal exam to exclude PneumoniA (NO-PNA)
Authors: Istrail, L.; Chakravorty, S.; Stepanova, M.
Score: 16.1, Published: 2023-11-20 DOI: 10.1101/2023.11.18.23298503
Pneumonia is one of the most common causes of hospital admission in the United States. Worldwide, the majority of antibiotics are prescribed for upper respiratory infections, much of which could be avoided with highly accurate methods of diagnosing or excluding pneumonia at the bedside. Despite the high prevalence of infectious pneumonia and decades of medical progress, accurately diagnosing or ruling out pneumonia without the use of computed tomography (CT) scanners and distinguishing between viral or bacterial etiologies remains challenging." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://trxiv.yorks0n.com/posts/radiology-and-imaging/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-06T10:40:04+00:00" />
<meta property="article:modified_time" content="2023-12-06T10:40:04+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="radiology and imaging"/>
<meta name="twitter:description" content="Negative predictive value Of Point-of-care ultrasound normal exam to exclude PneumoniA (NO-PNA)
Authors: Istrail, L.; Chakravorty, S.; Stepanova, M.
Score: 16.1, Published: 2023-11-20 DOI: 10.1101/2023.11.18.23298503
Pneumonia is one of the most common causes of hospital admission in the United States. Worldwide, the majority of antibiotics are prescribed for upper respiratory infections, much of which could be avoided with highly accurate methods of diagnosing or excluding pneumonia at the bedside. Despite the high prevalence of infectious pneumonia and decades of medical progress, accurately diagnosing or ruling out pneumonia without the use of computed tomography (CT) scanners and distinguishing between viral or bacterial etiologies remains challenging."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://trxiv.yorks0n.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "radiology and imaging",
      "item": "https://trxiv.yorks0n.com/posts/radiology-and-imaging/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "radiology and imaging",
  "name": "radiology and imaging",
  "description": "Negative predictive value Of Point-of-care ultrasound normal exam to exclude PneumoniA (NO-PNA)\nAuthors: Istrail, L.; Chakravorty, S.; Stepanova, M.\nScore: 16.1, Published: 2023-11-20 DOI: 10.1101/2023.11.18.23298503\nPneumonia is one of the most common causes of hospital admission in the United States. Worldwide, the majority of antibiotics are prescribed for upper respiratory infections, much of which could be avoided with highly accurate methods of diagnosing or excluding pneumonia at the bedside. Despite the high prevalence of infectious pneumonia and decades of medical progress, accurately diagnosing or ruling out pneumonia without the use of computed tomography (CT) scanners and distinguishing between viral or bacterial etiologies remains challenging.",
  "keywords": [
    
  ],
  "articleBody": " Negative predictive value Of Point-of-care ultrasound normal exam to exclude PneumoniA (NO-PNA)\nAuthors: Istrail, L.; Chakravorty, S.; Stepanova, M.\nScore: 16.1, Published: 2023-11-20 DOI: 10.1101/2023.11.18.23298503\nPneumonia is one of the most common causes of hospital admission in the United States. Worldwide, the majority of antibiotics are prescribed for upper respiratory infections, much of which could be avoided with highly accurate methods of diagnosing or excluding pneumonia at the bedside. Despite the high prevalence of infectious pneumonia and decades of medical progress, accurately diagnosing or ruling out pneumonia without the use of computed tomography (CT) scanners and distinguishing between viral or bacterial etiologies remains challenging. We enrolled 61 patients in a prospective, blinded study to determine the sensitivity of lung ultrasound (LUS) using a handheld ultrasound probe in patients who had a computed tomography (CT) scan of their chest for any reason. The sensitivity of lung ultrasound to detect patients with evidence of pneumonia as compared to a CT scan was 94.4% (72.7 - 99.9) with a negative predictive value of 96.2% (80.4 - 99.9) when the scan was normal. Due to our broad inclusion criteria and the high prevalence of of non-infectious lung disease at the site of this study, the specificity was 61% (44.5 - 75.8) and positive predictive value was 51.5% (33.5 - 69.2). This simple lung ultrasound scan can be incorporated into the physical exam, has very high sensitivity to detect patients with pneumonia, and can be effectively used to rule out pneumonia if the lung exam is normal.\nTraumatic brain injury and Alzheimer's Disease biomarkers: A systematic review of findings from amyloid and tau positron emission tomography (PET)\nAuthors: Dybing, K. M.; Vetter, C. J.; Dempsey, D. A.; Chaudhuri, S.; Saykin, A. J.; Risacher, S. L.\nScore: 3.8, Published: 2023-12-01 DOI: 10.1101/2023.11.30.23298528\nTraumatic brain injury (TBI) has been discussed as a risk factor for Alzheimer's disease (AD) due to its association with dementia risk and earlier cognitive symptom onset. However, the mechanisms behind this relationship are unclear. Some studies have suggested TBI may increase pathological protein deposition in an AD-like pattern; others have failed to find such associations. This review covers literature that uses positron emission tomography (PET) of amyloid-{beta} and/or tau to examine subjects with history of TBI who are at risk for AD due to advanced age. A comprehensive literature search was conducted on January 9, 2023, and 24 resulting citations met inclusion criteria. Common methodological concerns included small samples, limited clinical detail about subjects' TBI, recall bias due to reliance on self-reported TBI, and an inability to establish causation. For both amyloid and tau, results were widespread but inconsistent. The regions which showed the most compelling evidence for increased amyloid deposition were the cingulate gyrus, cuneus/precuneus, and parietal lobe. Evidence for increased tau was strongest in the medial temporal lobe, entorhinal cortex, precuneus, and frontal, temporal, parietal, and occipital lobes. However, conflicting findings across most regions of interest in both amyloid- and tau-PET studies indicate the critical need for future work in expanded samples and with greater clinical detail to offer a clearer picture of the relationship between TBI and protein deposition in older subjects at risk for AD.\nSpot the Difference: Can ChatGPT4-Vision Transform Radiology Artificial Intelligence?\nAuthors: Kelly, B. S. S.; Duignan, S.; Mathur, P.; Dillon, H.; Lee, E.; Yeom, K. W.; Keane, P.; Killeen, R. P.; Lawlor, A.\nScore: 3.8, Published: 2023-11-18 DOI: 10.1101/2023.11.15.23298499\nOpenAIs flagship Large Language Model ChatGPT can now accept image input (GPT4V). \"Spot the Difference\" and \"Medical\" have been suggested as emerging applications. The interpretation of medical images is a dynamic process not a static task. Diagnosis and treatment of Multiple Sclerosis is dependent on identification of radiologic change. We aimed to compare the zero-shot performance of GPT4V to a trained U-Net and Vision Transformer (ViT) for the identification of progression of MS on MRI. 170 patients were included. 100 unseen paired images were randomly used for testing. Both U-Net and ViT had 94% accuracy while GPT4V had 85%. GPT4V gave overly cautious non-answers in 6 cases. GPT4V had a precision, recall and F1 score of 0.896, 0.915, 0.905 compared to 1.0, 0.88 and 0.936 for U-Net and 0.94, 0.94, 0.94 for ViT. The impressive performance compared to trained models and a no-code drag and drop interface suggest GPT4V has the potential to disrupt AI radiology research. However misclassified cases, hallucinations and overly cautious non-answers confirm that it is not ready for clinical use. GPT4Vs widespread availability and relatively high error rate highlight the need for caution and education for lay-users, especially those with limited access to expert healthcare. Key pointsO_LIEven without fine tuning and without the need for prior coding experience or additional hardware, GPT4V can perform a zero-shot radiologic change detection task with reasonable accuracy. C_LIO_LIWe find GPT4V does not match the performance of established state of the art computer vision models. GPT4Vs performance metrics are more similar to the vision transformers than the convolutional neural networks, giving some possible insight into its underlying architecture. C_LIO_LIThis is an exploratory experimental study and GPT4V is not intended for use as a medical device. C_LI Summary statementGPT4V can identify radiologic progression of Multiple Sclerosis in a simplified experimental setting. However GPT4V is not a medical device and its widespread availability and relatively high error rate highlight the need for caution and education for lay-users, especially those with limited access to expert healthcare.\n",
  "wordCount" : "896",
  "inLanguage": "en",
  "datePublished": "2023-12-06T10:40:04Z",
  "dateModified": "2023-12-06T10:40:04Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://trxiv.yorks0n.com/posts/radiology-and-imaging/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "TRxiv2",
    "logo": {
      "@type": "ImageObject",
      "url": "https://trxiv.yorks0n.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://trxiv.yorks0n.com" accesskey="h" title="TRxiv2 (Alt + H)">TRxiv2</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">
<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      radiology and imaging
    </h1>
    <div class="post-meta">&lt;span&gt;updated on December 6, 2023&lt;/span&gt;

</div>
  </header> 
  <div class="post-content"><div class="accordion accordion-flush" id="accordionFlushExample"><div class="accordion-item">
    <h3 class="accordion-header" id="flush-heading10.1101/2023.11.18.23298503">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse10.1101/2023.11.18.23298503" aria-expanded="false" aria-controls="flush-collapse10.1101/2023.11.18.23298503">
        <p class="paperTitle">Negative predictive value Of Point-of-care ultrasound normal exam to exclude PneumoniA (NO-PNA)</p>
      </button>
    </h3>
    <div id="flush-collapse10.1101/2023.11.18.23298503" class="accordion-collapse collapse" aria-labelledby="flush-heading10.1101/2023.11.18.23298503" data-bs-parent="#accordionFlushExample">
      <div class="accordion-body">
        <p class="author">Authors: Istrail, L.; Chakravorty, S.; Stepanova, M.</p>
        <p class="info">Score: 16.1, Published: 2023-11-20 </p>
        <p class="info">DOI: <a href='https://doi.org/10.1101/2023.11.18.23298503' target='https://doi.org/10.1101/2023.11.18.23298503'> 10.1101/2023.11.18.23298503</a></p>
        <p class="abstract">Pneumonia is one of the most common causes of hospital admission in the United States. Worldwide, the majority of antibiotics are prescribed for upper respiratory infections, much of which could be avoided with highly accurate methods of diagnosing or excluding pneumonia at the bedside. Despite the high prevalence of infectious pneumonia and decades of medical progress, accurately diagnosing or ruling out pneumonia without the use of computed tomography (CT) scanners and distinguishing between viral or bacterial etiologies remains challenging. We enrolled 61 patients in a prospective, blinded study to determine the sensitivity of lung ultrasound (LUS) using a handheld ultrasound probe in patients who had a computed tomography (CT) scan of their chest for any reason. The sensitivity of lung ultrasound to detect patients with evidence of pneumonia as compared to a CT scan was 94.4% (72.7 - 99.9) with a negative predictive value of 96.2% (80.4 - 99.9) when the scan was normal. Due to our broad inclusion criteria and the high prevalence of of non-infectious lung disease at the site of this study, the specificity was 61% (44.5 - 75.8) and positive predictive value was 51.5% (33.5 - 69.2). This simple lung ultrasound scan can be incorporated into the physical exam, has very high sensitivity to detect patients with pneumonia, and can be effectively used to rule out pneumonia if the lung exam is normal.</p>
      </div>
    </div>
  </div><div class="accordion-item">
    <h3 class="accordion-header" id="flush-heading10.1101/2023.11.30.23298528">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse10.1101/2023.11.30.23298528" aria-expanded="false" aria-controls="flush-collapse10.1101/2023.11.30.23298528">
        <p class="paperTitle">Traumatic brain injury and Alzheimer&#39;s Disease biomarkers: A systematic review of findings from amyloid and tau positron emission tomography (PET)</p>
      </button>
    </h3>
    <div id="flush-collapse10.1101/2023.11.30.23298528" class="accordion-collapse collapse" aria-labelledby="flush-heading10.1101/2023.11.30.23298528" data-bs-parent="#accordionFlushExample">
      <div class="accordion-body">
        <p class="author">Authors: Dybing, K. M.; Vetter, C. J.; Dempsey, D. A.; Chaudhuri, S.; Saykin, A. J.; Risacher, S. L.</p>
        <p class="info">Score: 3.8, Published: 2023-12-01 </p>
        <p class="info">DOI: <a href='https://doi.org/10.1101/2023.11.30.23298528' target='https://doi.org/10.1101/2023.11.30.23298528'> 10.1101/2023.11.30.23298528</a></p>
        <p class="abstract">Traumatic brain injury (TBI) has been discussed as a risk factor for Alzheimer&#39;s disease (AD) due to its association with dementia risk and earlier cognitive symptom onset. However, the mechanisms behind this relationship are unclear. Some studies have suggested TBI may increase pathological protein deposition in an AD-like pattern; others have failed to find such associations. This review covers literature that uses positron emission tomography (PET) of amyloid-{beta} and/or tau to examine subjects with history of TBI who are at risk for AD due to advanced age. A comprehensive literature search was conducted on January 9, 2023, and 24 resulting citations met inclusion criteria. Common methodological concerns included small samples, limited clinical detail about subjects&#39; TBI, recall bias due to reliance on self-reported TBI, and an inability to establish causation. For both amyloid and tau, results were widespread but inconsistent. The regions which showed the most compelling evidence for increased amyloid deposition were the cingulate gyrus, cuneus/precuneus, and parietal lobe. Evidence for increased tau was strongest in the medial temporal lobe, entorhinal cortex, precuneus, and frontal, temporal, parietal, and occipital lobes. However, conflicting findings across most regions of interest in both amyloid- and tau-PET studies indicate the critical need for future work in expanded samples and with greater clinical detail to offer a clearer picture of the relationship between TBI and protein deposition in older subjects at risk for AD.</p>
      </div>
    </div>
  </div><div class="accordion-item">
    <h3 class="accordion-header" id="flush-heading10.1101/2023.11.15.23298499">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse10.1101/2023.11.15.23298499" aria-expanded="false" aria-controls="flush-collapse10.1101/2023.11.15.23298499">
        <p class="paperTitle">Spot the Difference: Can ChatGPT4-Vision Transform Radiology Artificial Intelligence?</p>
      </button>
    </h3>
    <div id="flush-collapse10.1101/2023.11.15.23298499" class="accordion-collapse collapse" aria-labelledby="flush-heading10.1101/2023.11.15.23298499" data-bs-parent="#accordionFlushExample">
      <div class="accordion-body">
        <p class="author">Authors: Kelly, B. S. S.; Duignan, S.; Mathur, P.; Dillon, H.; Lee, E.; Yeom, K. W.; Keane, P.; Killeen, R. P.; Lawlor, A.</p>
        <p class="info">Score: 3.8, Published: 2023-11-18 </p>
        <p class="info">DOI: <a href='https://doi.org/10.1101/2023.11.15.23298499' target='https://doi.org/10.1101/2023.11.15.23298499'> 10.1101/2023.11.15.23298499</a></p>
        <p class="abstract">OpenAIs flagship Large Language Model ChatGPT can now accept image input (GPT4V). &#34;Spot the Difference&#34; and &#34;Medical&#34; have been suggested as emerging applications. The interpretation of medical images is a dynamic process not a static task. Diagnosis and treatment of Multiple Sclerosis is dependent on identification of radiologic change. We aimed to compare the zero-shot performance of GPT4V to a trained U-Net and Vision Transformer (ViT) for the identification of progression of MS on MRI.

170 patients were included. 100 unseen paired images were randomly used for testing. Both U-Net and ViT had 94% accuracy while GPT4V had 85%. GPT4V gave overly cautious non-answers in 6 cases. GPT4V had a precision, recall and F1 score of 0.896, 0.915, 0.905 compared to 1.0, 0.88 and 0.936 for U-Net and 0.94, 0.94, 0.94 for ViT.

The impressive performance compared to trained models and a no-code drag and drop interface suggest GPT4V has the potential to disrupt AI radiology research. However misclassified cases, hallucinations and overly cautious non-answers confirm that it is not ready for clinical use. GPT4Vs widespread availability and relatively high error rate highlight the need for caution and education for lay-users, especially those with limited access to expert healthcare.

Key pointsO_LIEven without fine tuning and without the need for prior coding experience or additional hardware, GPT4V can perform a zero-shot radiologic change detection task with reasonable accuracy.
C_LIO_LIWe find GPT4V does not match the performance of established state of the art computer vision models. GPT4Vs performance metrics are more similar to the vision transformers than the convolutional neural networks, giving some possible insight into its underlying architecture.
C_LIO_LIThis is an exploratory experimental study and GPT4V is not intended for use as a medical device.
C_LI

Summary statementGPT4V can identify radiologic progression of Multiple Sclerosis in a simplified experimental setting. However GPT4V is not a medical device and its widespread availability and relatively high error rate highlight the need for caution and education for lay-users, especially those with limited access to expert healthcare.</p>
      </div>
    </div>
  </div>
</div>









<script src="/js/bundle.min.js" defer></script>



  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://trxiv.yorks0n.com">TRxiv2</a></span>
    <span>
        · Made by Yorkson
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
